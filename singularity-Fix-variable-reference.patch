From 3e693d7319f8eb83886223db4804b38bac66d1f2 Mon Sep 17 00:00:00 2001
From: Dave Love <dave.love@manchester.ac.uk>
Date: Sun, 14 May 2017 17:30:31 +0100
Subject: [PATCH 05/30] Fix variable reference

---
 src/lib/file/group/group.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/lib/file/group/group.c b/src/lib/file/group/group.c
index ffee669a..8aebcfd0 100644
--- a/src/lib/file/group/group.c
+++ b/src/lib/file/group/group.c
@@ -137,7 +137,7 @@ int singularity_file_group(void) {
             struct group *gr = getgrgid(gids[i]);
             if ( gr ) {
                 singularity_message(VERBOSE3, "Found supplementary group membership in: %d\n", gids[i]);
-                singularity_message(VERBOSE2, "Adding user's supplementary group ('%s') info to template group file\n", grent->gr_name);
+                singularity_message(VERBOSE2, "Adding user's supplementary group ('%s') info to template group file\n", gr->gr_name);
                 fprintf(file_fp, "%s:x:%u:%s\n", gr->gr_name, gr->gr_gid, pwent->pw_name);
             } else if ( (errno == 0) || (errno == ESRCH) || (errno == EBADF) || (errno == EPERM) || (errno == ENOENT)) {
                 singularity_message(VERBOSE3, "Skipping GID %d as group entry does not exist.\n", gids[i]);
-- 
2.11.0

